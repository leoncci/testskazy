<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Technique</title>
</head>
<body>
    <h1>Test Technique</h1>
    <p id="myTest">Lancer Test</p>
    <button onclick="run()">Run</button>
    <script>
        function permutations(array) {
            var result = [];
            function p(array, temp) {
                var i, x;
                if (!array.length) {
                    result.push(temp);
                }
                for (i = 0; i < array.length; i++) {
                    x = array.splice(i, 1)[0];
                    p(array, temp.concat(x));
                    array.splice(i, 0, x);
                }
            }
            p(array, []);
            return result;
        }

        async function baoloc(a, b, c, d, e, f, g, h, i) {
            const result = await (await fetch(`http://localhost:8080/baoloc/${a}/${b}/${c}/${d}/${e}/${f}/${g}/${h}/${i}`, { method: 'POST' })).text();
        }

        function run() {
            const combinaison = permutations([1,2,3,4,5,6,7,8,9]);
            for (const index in combinaison) {
                if (baoloc(...combinaison[index]) == "Yes") console.log(combinaison[index])
                break;
            }
        }
    </script>
</body>
</html>